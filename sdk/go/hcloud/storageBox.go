// Code generated by pulumi-language-go DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package hcloud

import (
	"context"
	"reflect"

	"errors"
	"github.com/pulumi/pulumi-hcloud/sdk/go/hcloud/internal"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

// Provides a Hetzner Storage Box resource.
//
// See the [Storage Box API documentation](https://docs.hetzner.cloud/reference/hetzner#storage-boxes) for more details.
//
// ## Example Usage
//
// ```go
// package main
//
// import (
//
//	"github.com/pulumi/pulumi-hcloud/sdk/go/hcloud"
//	"github.com/pulumi/pulumi-std/sdk/go/std"
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			_, err := hcloud.NewStorageBox(ctx, "backups", &hcloud.StorageBoxArgs{
//				Name:           pulumi.String("backups"),
//				StorageBoxType: pulumi.String("bx21"),
//				Location:       pulumi.String("hel1"),
//				Password:       pulumi.Any(storageBoxPassword),
//				Labels: pulumi.StringMap{
//					"foo": pulumi.String("bar"),
//				},
//				AccessSettings: &hcloud.StorageBoxAccessSettingsArgs{
//					ReachableExternally: pulumi.Bool(true),
//					SambaEnabled:        pulumi.Bool(true),
//					SshEnabled:          pulumi.Bool(true),
//					WebdavEnabled:       pulumi.Bool(true),
//					ZfsEnabled:          pulumi.Bool(true),
//				},
//				SnapshotPlan: &hcloud.StorageBoxSnapshotPlanArgs{
//					MaxSnapshots: pulumi.Int(10),
//					Minute:       pulumi.Int(16),
//					Hour:         pulumi.Int(18),
//					DayOfWeek:    pulumi.Int(3),
//				},
//				DeleteProtection: pulumi.Bool(true),
//			})
//			if err != nil {
//				return err
//			}
//			invokeFile, err := std.File(ctx, &std.FileArgs{
//				Input: "~/.ssh/id_ed25519.pub",
//			}, nil)
//			if err != nil {
//				return err
//			}
//			_, err = hcloud.NewStorageBox(ctx, "ssh_key", &hcloud.StorageBoxArgs{
//				Name:           pulumi.String("backups"),
//				StorageBoxType: pulumi.String("bx21"),
//				Location:       pulumi.String("hel1"),
//				Password:       pulumi.Any(storageBoxPassword),
//				SshKeys: pulumi.StringArray{
//					myKey.PublicKey,
//					pulumi.String(invokeFile.Result),
//				},
//			})
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
//
// ## Import
//
// The `pulumi import` command can be used, for example:
//
// ```sh
// $ pulumi import hcloud:index/storageBox:StorageBox example "$STORAGE_BOX_ID"
// ```
type StorageBox struct {
	pulumi.CustomResourceState

	// Access settings of the Storage Box.
	AccessSettings StorageBoxAccessSettingsOutput `pulumi:"accessSettings"`
	// Prevent the Storage Box from being accidentally deleted outside of Terraform.
	DeleteProtection pulumi.BoolOutput `pulumi:"deleteProtection"`
	// User-defined [labels](https://docs.hetzner.cloud/reference/cloud#labels) (key-value pairs) for the resource.
	Labels pulumi.StringMapOutput `pulumi:"labels"`
	// Name of the Location.
	Location pulumi.StringOutput `pulumi:"location"`
	// Name of the Storage Box.
	Name pulumi.StringOutput `pulumi:"name"`
	// Password of the Storage Box. For more details, see the [Storage Boxes password policy](https://docs.hetzner.cloud/reference/hetzner#storage-boxes-password-policy).
	Password pulumi.StringOutput `pulumi:"password"`
	// FQDN of the Storage Box.
	Server pulumi.StringOutput `pulumi:"server"`
	// Details of the active snapshot plan.
	SnapshotPlan StorageBoxSnapshotPlanPtrOutput `pulumi:"snapshotPlan"`
	// SSH public keys in OpenSSH format to inject into the Storage Box. It is not possible to update the SSH Keys through the API, so changing this attribute forces a replace of the Storage Box.
	SshKeys pulumi.StringArrayOutput `pulumi:"sshKeys"`
	// Name of the Storage Box Type.
	StorageBoxType pulumi.StringOutput `pulumi:"storageBoxType"`
	// Host system of the Storage Box.
	System pulumi.StringOutput `pulumi:"system"`
	// Primary username of the Storage Box.
	Username pulumi.StringOutput `pulumi:"username"`
}

// NewStorageBox registers a new resource with the given unique name, arguments, and options.
func NewStorageBox(ctx *pulumi.Context,
	name string, args *StorageBoxArgs, opts ...pulumi.ResourceOption) (*StorageBox, error) {
	if args == nil {
		return nil, errors.New("missing one or more required arguments")
	}

	if args.Location == nil {
		return nil, errors.New("invalid value for required argument 'Location'")
	}
	if args.Password == nil {
		return nil, errors.New("invalid value for required argument 'Password'")
	}
	if args.StorageBoxType == nil {
		return nil, errors.New("invalid value for required argument 'StorageBoxType'")
	}
	if args.Password != nil {
		args.Password = pulumi.ToSecret(args.Password).(pulumi.StringInput)
	}
	secrets := pulumi.AdditionalSecretOutputs([]string{
		"password",
	})
	opts = append(opts, secrets)
	opts = internal.PkgResourceDefaultOpts(opts)
	var resource StorageBox
	err := ctx.RegisterResource("hcloud:index/storageBox:StorageBox", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetStorageBox gets an existing StorageBox resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetStorageBox(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *StorageBoxState, opts ...pulumi.ResourceOption) (*StorageBox, error) {
	var resource StorageBox
	err := ctx.ReadResource("hcloud:index/storageBox:StorageBox", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering StorageBox resources.
type storageBoxState struct {
	// Access settings of the Storage Box.
	AccessSettings *StorageBoxAccessSettings `pulumi:"accessSettings"`
	// Prevent the Storage Box from being accidentally deleted outside of Terraform.
	DeleteProtection *bool `pulumi:"deleteProtection"`
	// User-defined [labels](https://docs.hetzner.cloud/reference/cloud#labels) (key-value pairs) for the resource.
	Labels map[string]string `pulumi:"labels"`
	// Name of the Location.
	Location *string `pulumi:"location"`
	// Name of the Storage Box.
	Name *string `pulumi:"name"`
	// Password of the Storage Box. For more details, see the [Storage Boxes password policy](https://docs.hetzner.cloud/reference/hetzner#storage-boxes-password-policy).
	Password *string `pulumi:"password"`
	// FQDN of the Storage Box.
	Server *string `pulumi:"server"`
	// Details of the active snapshot plan.
	SnapshotPlan *StorageBoxSnapshotPlan `pulumi:"snapshotPlan"`
	// SSH public keys in OpenSSH format to inject into the Storage Box. It is not possible to update the SSH Keys through the API, so changing this attribute forces a replace of the Storage Box.
	SshKeys []string `pulumi:"sshKeys"`
	// Name of the Storage Box Type.
	StorageBoxType *string `pulumi:"storageBoxType"`
	// Host system of the Storage Box.
	System *string `pulumi:"system"`
	// Primary username of the Storage Box.
	Username *string `pulumi:"username"`
}

type StorageBoxState struct {
	// Access settings of the Storage Box.
	AccessSettings StorageBoxAccessSettingsPtrInput
	// Prevent the Storage Box from being accidentally deleted outside of Terraform.
	DeleteProtection pulumi.BoolPtrInput
	// User-defined [labels](https://docs.hetzner.cloud/reference/cloud#labels) (key-value pairs) for the resource.
	Labels pulumi.StringMapInput
	// Name of the Location.
	Location pulumi.StringPtrInput
	// Name of the Storage Box.
	Name pulumi.StringPtrInput
	// Password of the Storage Box. For more details, see the [Storage Boxes password policy](https://docs.hetzner.cloud/reference/hetzner#storage-boxes-password-policy).
	Password pulumi.StringPtrInput
	// FQDN of the Storage Box.
	Server pulumi.StringPtrInput
	// Details of the active snapshot plan.
	SnapshotPlan StorageBoxSnapshotPlanPtrInput
	// SSH public keys in OpenSSH format to inject into the Storage Box. It is not possible to update the SSH Keys through the API, so changing this attribute forces a replace of the Storage Box.
	SshKeys pulumi.StringArrayInput
	// Name of the Storage Box Type.
	StorageBoxType pulumi.StringPtrInput
	// Host system of the Storage Box.
	System pulumi.StringPtrInput
	// Primary username of the Storage Box.
	Username pulumi.StringPtrInput
}

func (StorageBoxState) ElementType() reflect.Type {
	return reflect.TypeOf((*storageBoxState)(nil)).Elem()
}

type storageBoxArgs struct {
	// Access settings of the Storage Box.
	AccessSettings *StorageBoxAccessSettings `pulumi:"accessSettings"`
	// Prevent the Storage Box from being accidentally deleted outside of Terraform.
	DeleteProtection *bool `pulumi:"deleteProtection"`
	// User-defined [labels](https://docs.hetzner.cloud/reference/cloud#labels) (key-value pairs) for the resource.
	Labels map[string]string `pulumi:"labels"`
	// Name of the Location.
	Location string `pulumi:"location"`
	// Name of the Storage Box.
	Name *string `pulumi:"name"`
	// Password of the Storage Box. For more details, see the [Storage Boxes password policy](https://docs.hetzner.cloud/reference/hetzner#storage-boxes-password-policy).
	Password string `pulumi:"password"`
	// Details of the active snapshot plan.
	SnapshotPlan *StorageBoxSnapshotPlan `pulumi:"snapshotPlan"`
	// SSH public keys in OpenSSH format to inject into the Storage Box. It is not possible to update the SSH Keys through the API, so changing this attribute forces a replace of the Storage Box.
	SshKeys []string `pulumi:"sshKeys"`
	// Name of the Storage Box Type.
	StorageBoxType string `pulumi:"storageBoxType"`
}

// The set of arguments for constructing a StorageBox resource.
type StorageBoxArgs struct {
	// Access settings of the Storage Box.
	AccessSettings StorageBoxAccessSettingsPtrInput
	// Prevent the Storage Box from being accidentally deleted outside of Terraform.
	DeleteProtection pulumi.BoolPtrInput
	// User-defined [labels](https://docs.hetzner.cloud/reference/cloud#labels) (key-value pairs) for the resource.
	Labels pulumi.StringMapInput
	// Name of the Location.
	Location pulumi.StringInput
	// Name of the Storage Box.
	Name pulumi.StringPtrInput
	// Password of the Storage Box. For more details, see the [Storage Boxes password policy](https://docs.hetzner.cloud/reference/hetzner#storage-boxes-password-policy).
	Password pulumi.StringInput
	// Details of the active snapshot plan.
	SnapshotPlan StorageBoxSnapshotPlanPtrInput
	// SSH public keys in OpenSSH format to inject into the Storage Box. It is not possible to update the SSH Keys through the API, so changing this attribute forces a replace of the Storage Box.
	SshKeys pulumi.StringArrayInput
	// Name of the Storage Box Type.
	StorageBoxType pulumi.StringInput
}

func (StorageBoxArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*storageBoxArgs)(nil)).Elem()
}

type StorageBoxInput interface {
	pulumi.Input

	ToStorageBoxOutput() StorageBoxOutput
	ToStorageBoxOutputWithContext(ctx context.Context) StorageBoxOutput
}

func (*StorageBox) ElementType() reflect.Type {
	return reflect.TypeOf((**StorageBox)(nil)).Elem()
}

func (i *StorageBox) ToStorageBoxOutput() StorageBoxOutput {
	return i.ToStorageBoxOutputWithContext(context.Background())
}

func (i *StorageBox) ToStorageBoxOutputWithContext(ctx context.Context) StorageBoxOutput {
	return pulumi.ToOutputWithContext(ctx, i).(StorageBoxOutput)
}

// StorageBoxArrayInput is an input type that accepts StorageBoxArray and StorageBoxArrayOutput values.
// You can construct a concrete instance of `StorageBoxArrayInput` via:
//
//	StorageBoxArray{ StorageBoxArgs{...} }
type StorageBoxArrayInput interface {
	pulumi.Input

	ToStorageBoxArrayOutput() StorageBoxArrayOutput
	ToStorageBoxArrayOutputWithContext(context.Context) StorageBoxArrayOutput
}

type StorageBoxArray []StorageBoxInput

func (StorageBoxArray) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*StorageBox)(nil)).Elem()
}

func (i StorageBoxArray) ToStorageBoxArrayOutput() StorageBoxArrayOutput {
	return i.ToStorageBoxArrayOutputWithContext(context.Background())
}

func (i StorageBoxArray) ToStorageBoxArrayOutputWithContext(ctx context.Context) StorageBoxArrayOutput {
	return pulumi.ToOutputWithContext(ctx, i).(StorageBoxArrayOutput)
}

// StorageBoxMapInput is an input type that accepts StorageBoxMap and StorageBoxMapOutput values.
// You can construct a concrete instance of `StorageBoxMapInput` via:
//
//	StorageBoxMap{ "key": StorageBoxArgs{...} }
type StorageBoxMapInput interface {
	pulumi.Input

	ToStorageBoxMapOutput() StorageBoxMapOutput
	ToStorageBoxMapOutputWithContext(context.Context) StorageBoxMapOutput
}

type StorageBoxMap map[string]StorageBoxInput

func (StorageBoxMap) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*StorageBox)(nil)).Elem()
}

func (i StorageBoxMap) ToStorageBoxMapOutput() StorageBoxMapOutput {
	return i.ToStorageBoxMapOutputWithContext(context.Background())
}

func (i StorageBoxMap) ToStorageBoxMapOutputWithContext(ctx context.Context) StorageBoxMapOutput {
	return pulumi.ToOutputWithContext(ctx, i).(StorageBoxMapOutput)
}

type StorageBoxOutput struct{ *pulumi.OutputState }

func (StorageBoxOutput) ElementType() reflect.Type {
	return reflect.TypeOf((**StorageBox)(nil)).Elem()
}

func (o StorageBoxOutput) ToStorageBoxOutput() StorageBoxOutput {
	return o
}

func (o StorageBoxOutput) ToStorageBoxOutputWithContext(ctx context.Context) StorageBoxOutput {
	return o
}

// Access settings of the Storage Box.
func (o StorageBoxOutput) AccessSettings() StorageBoxAccessSettingsOutput {
	return o.ApplyT(func(v *StorageBox) StorageBoxAccessSettingsOutput { return v.AccessSettings }).(StorageBoxAccessSettingsOutput)
}

// Prevent the Storage Box from being accidentally deleted outside of Terraform.
func (o StorageBoxOutput) DeleteProtection() pulumi.BoolOutput {
	return o.ApplyT(func(v *StorageBox) pulumi.BoolOutput { return v.DeleteProtection }).(pulumi.BoolOutput)
}

// User-defined [labels](https://docs.hetzner.cloud/reference/cloud#labels) (key-value pairs) for the resource.
func (o StorageBoxOutput) Labels() pulumi.StringMapOutput {
	return o.ApplyT(func(v *StorageBox) pulumi.StringMapOutput { return v.Labels }).(pulumi.StringMapOutput)
}

// Name of the Location.
func (o StorageBoxOutput) Location() pulumi.StringOutput {
	return o.ApplyT(func(v *StorageBox) pulumi.StringOutput { return v.Location }).(pulumi.StringOutput)
}

// Name of the Storage Box.
func (o StorageBoxOutput) Name() pulumi.StringOutput {
	return o.ApplyT(func(v *StorageBox) pulumi.StringOutput { return v.Name }).(pulumi.StringOutput)
}

// Password of the Storage Box. For more details, see the [Storage Boxes password policy](https://docs.hetzner.cloud/reference/hetzner#storage-boxes-password-policy).
func (o StorageBoxOutput) Password() pulumi.StringOutput {
	return o.ApplyT(func(v *StorageBox) pulumi.StringOutput { return v.Password }).(pulumi.StringOutput)
}

// FQDN of the Storage Box.
func (o StorageBoxOutput) Server() pulumi.StringOutput {
	return o.ApplyT(func(v *StorageBox) pulumi.StringOutput { return v.Server }).(pulumi.StringOutput)
}

// Details of the active snapshot plan.
func (o StorageBoxOutput) SnapshotPlan() StorageBoxSnapshotPlanPtrOutput {
	return o.ApplyT(func(v *StorageBox) StorageBoxSnapshotPlanPtrOutput { return v.SnapshotPlan }).(StorageBoxSnapshotPlanPtrOutput)
}

// SSH public keys in OpenSSH format to inject into the Storage Box. It is not possible to update the SSH Keys through the API, so changing this attribute forces a replace of the Storage Box.
func (o StorageBoxOutput) SshKeys() pulumi.StringArrayOutput {
	return o.ApplyT(func(v *StorageBox) pulumi.StringArrayOutput { return v.SshKeys }).(pulumi.StringArrayOutput)
}

// Name of the Storage Box Type.
func (o StorageBoxOutput) StorageBoxType() pulumi.StringOutput {
	return o.ApplyT(func(v *StorageBox) pulumi.StringOutput { return v.StorageBoxType }).(pulumi.StringOutput)
}

// Host system of the Storage Box.
func (o StorageBoxOutput) System() pulumi.StringOutput {
	return o.ApplyT(func(v *StorageBox) pulumi.StringOutput { return v.System }).(pulumi.StringOutput)
}

// Primary username of the Storage Box.
func (o StorageBoxOutput) Username() pulumi.StringOutput {
	return o.ApplyT(func(v *StorageBox) pulumi.StringOutput { return v.Username }).(pulumi.StringOutput)
}

type StorageBoxArrayOutput struct{ *pulumi.OutputState }

func (StorageBoxArrayOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*StorageBox)(nil)).Elem()
}

func (o StorageBoxArrayOutput) ToStorageBoxArrayOutput() StorageBoxArrayOutput {
	return o
}

func (o StorageBoxArrayOutput) ToStorageBoxArrayOutputWithContext(ctx context.Context) StorageBoxArrayOutput {
	return o
}

func (o StorageBoxArrayOutput) Index(i pulumi.IntInput) StorageBoxOutput {
	return pulumi.All(o, i).ApplyT(func(vs []interface{}) *StorageBox {
		return vs[0].([]*StorageBox)[vs[1].(int)]
	}).(StorageBoxOutput)
}

type StorageBoxMapOutput struct{ *pulumi.OutputState }

func (StorageBoxMapOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*StorageBox)(nil)).Elem()
}

func (o StorageBoxMapOutput) ToStorageBoxMapOutput() StorageBoxMapOutput {
	return o
}

func (o StorageBoxMapOutput) ToStorageBoxMapOutputWithContext(ctx context.Context) StorageBoxMapOutput {
	return o
}

func (o StorageBoxMapOutput) MapIndex(k pulumi.StringInput) StorageBoxOutput {
	return pulumi.All(o, k).ApplyT(func(vs []interface{}) *StorageBox {
		return vs[0].(map[string]*StorageBox)[vs[1].(string)]
	}).(StorageBoxOutput)
}

func init() {
	pulumi.RegisterInputType(reflect.TypeOf((*StorageBoxInput)(nil)).Elem(), &StorageBox{})
	pulumi.RegisterInputType(reflect.TypeOf((*StorageBoxArrayInput)(nil)).Elem(), StorageBoxArray{})
	pulumi.RegisterInputType(reflect.TypeOf((*StorageBoxMapInput)(nil)).Elem(), StorageBoxMap{})
	pulumi.RegisterOutputType(StorageBoxOutput{})
	pulumi.RegisterOutputType(StorageBoxArrayOutput{})
	pulumi.RegisterOutputType(StorageBoxMapOutput{})
}
